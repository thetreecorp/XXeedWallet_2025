"use strict";function restrictNumberToPrefdecimalOnSendInput(e){var t=$("#from_type").val(),n="crypto_buy"==t?"fiat":"crypto";restrictNumberToPrefdecimal(e,n)}function restrictNumberToPrefdecimalOnReceiveInput(e){var t=$("#from_type").val(),n="crypto_sell"==t?"fiat":"crypto";restrictNumberToPrefdecimal(e,n)}function formatNumberToPrefDecimal(e=0){let t=decimalPreferrence;return Math.abs(e).toFixed(t)}function isNumber(e){e=e||window.event;var t=e.which?e.which:e.keyCode;return!(t>31&&(t<48||t>57))}if($("#copyButton, #merchantAddress").on("click",function(){let e=$("#merchantAddress").text(),t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),$("#copyButton").addClass("d-none"),$(".copyText").removeClass("d-none")}),$("#crypto-front-initiate").length){var logoUrl=currencyLogoUrl+"/";function beforeLoad(e=null){$(".rate").text(""),$(".exchange_fee").text(""),$(".send_amount_error").text(""),$(".dot").addClass("display-hide"),$(".dot-message").removeClass("h-9p"),$("#crypto_buy_sell_button").attr("disabled",!0),e?$("#send_amount").val("-"):$("#get_amount").val("-"),$(".spinner").addClass("d-none")}function getCurrenciesExceptFromCurrencyType(e,t){var n=$("#token").val();e&&t&&$.ajax({method:"GET",url:directionListUrl,dataType:"json",cache:!1,data:{_token:n,type:t,from_currency_id:e}}).done(function(e){setToCurrencies(e);var t=$("#fromCurrencyId").val(),n=$("#toCurrencyId").val(),o=$("#send_amount").val();getDirectionAmount(t,n,o)})}function setToCurrencies(e){let t="",n="";if(e&&(e.length||e.directionCurrencies)){const o=e.directionCurrencies[0];t=e.directionCurrencies.map(e=>`<tr>\n                <td class="text-left cursor-pointer to-currency" id="${e.id}">\n                    <div class="d-flex px-3 align-items-center">\n                        <img\n                            id="to-image-${e.id}"\n                            class="img-fluid currency-img"\n                            src="${logoUrl}${e.logo}"\n                            alt=""\n                        >\n                        <div class="px-3 coin-list">\n                            <p class="coin-tag" id="to-code-${e.id}">\n                            ${e.code}\n                            </p>\n                            <span class="coin-name" >${e.name}</span>\n                        </div>\n                    </div>\n                </td>\n            </tr>`).join(""),n=`<button type="button" class="btn btn-primary md:ms-2" >\n                <img id="seleceted-to-image" class="img-fluid rounded-icon set-imgTo"\n                src="${logoUrl}${o.logo}" alt="">\n                <span id="to-selected" class="set-coinnameTo px-2">${o.code}</span>\n            </button>`,$("#toCurrencyId").val(o.id)}else $("#toCurrencyId").val("");$("#to-currency-tr").html(t),$("#selected-to-currency").html(n),$(".bd-example-modal-sm").modal("hide")}function setToCurrenciesType(e){let t="",n="";if(e){let o=e[0];$.each(e,function(e,n){t+=`<tr>\n                <td class="text-left cursor-pointer to-currency" id="${n.id}">\n                    <div class="d-flex px-3 align-items-center">\n                        <img\n                            id="to-image-${n.id}"\n                            class="img-fluid currency-img"\n                            src="${logoUrl}${n.logo}"\n                            alt=""\n                        >\n                        <div class="px-3 coin-list">\n                            <p class="coin-tag" id="to-code-${n.id}">\n                            ${n.code}\n                            </p>\n                            <span class="coin-name" >${n.name}</span>\n                        </div>\n                    </div>\n                </td>\n            </tr>`}),n=`<button type="button" class="btn btn-primary md:ms-2" >\n                    <img id="seleceted-to-image" class="img-fluid rounded-icon set-imgTo"\n                        src="${logoUrl}${o.logo}"\n                        alt=""> <span id="to-selected" class="set-coinnameTo px-2">${o.code}</span>\n                </button>`,$("#toCurrencyId").val(o.id)}else $("#toCurrencyId").val("");$("#to-currency-tr").html(t),$("#selected-to-currency").html(n),$(".bd-example-modal-sm").modal("hide")}function setFromCurrenciesType(e){let t="",n="";if(e){let o=e[0];$.each(e,function(e,n){t+=`<tr>\n                <td class="text-left cursor-pointer from-currency" id="${n.id}">\n                    <div class="d-flex px-3 align-items-center">\n                        <img\n                            id="from-image-${n.id}"\n                            class="img-fluid currency-img"\n                            src="${logoUrl}${n.logo}"\n                            alt="${n.code}"\n                        >\n                        <div class="px-3 coin-list">\n                            <p class="coin-tag"  id="from-code-${n.id}">\n                                ${n.code}\n                            </p>\n                            <span class="coin-name">${n.name}</span>\n                        </div>\n                    </div>\n                </td>\n            </tr>`}),n=`<button type="button" class="btn btn-primary md:ms-2">\n                    <img id="seleceted-from-image" class="img-fluid rounded-icon set-img" src="${logoUrl}${o.logo}"\n                        alt=""><span id="from-selected" class="set-coinname px-2">${o.code}</span>\n                </button>`,$("#fromCurrencyId").val(o.id)}else $("#fromCurrencyId").val("");$("#from-currency-tr").html(t),$("#selected-from-currency").html(n),$(".bd-example-modal-sm").modal("hide")}function getDirectionAmount(e,t,n=null,o=null){var a=$("#token").val();$("#fromInput").val(""),$("#toInput").val(""),e&&t?$.ajax({method:"GET",url:directionAmountUrl,dataType:"json",cache:!1,data:{_token:a,from_currency_id:e,to_currency_id:t,send_amount:n,get_amount:o},beforeSend:function(e){$("#crypto_buy_sell_button").attr("disabled",!0)}}).done(function(e){$(".send_amount_error").text(""),$("#send_amount").val(e.success.send_amount),$("#get_amount").val(e.success.get_amount),$(".rate").text(e.success.exchange_rate),$(".exchange_fee").text(e.success.exchange_fee),200==e.success.status?($("#crypto_buy_sell_button").attr("disabled",!1),$(".dot").addClass("display-hide"),$(".dot-message").removeClass("h-9p")):($(".send_amount_error").addClass("error").text(e.success.message),$(".dot").removeClass("display-hide"),$(".dot-message").addClass("h-9p"),$("#crypto_buy_sell_button").attr("disabled",!0))}):($(".send_amount_error").addClass("error").text(directionNotAvaillable),$(".dot").removeClass("display-hide"),$(".dot-message").addClass("h-9p"),$("#crypto_buy_sell_button").attr("disabled",!0),$("#get_amount").val(0),$(".rate").text(""),$(".exchange_fee").text(""))}function getCurrenciesByType(e){var t=$("#token").val();e&&$.ajax({method:"GET",url:directionTypeUrl,dataType:"json",cache:!1,data:{_token:t,direction_type:e}}).done(function(e){$("#send_amount").val(e.min_amount),setFromCurrenciesType(e.fromCurrencies),setToCurrenciesType(e.toCurrencies);let t="401"==e.status?directionNotAvaillable:"";$(".send_amount_error").addClass("error").text(t);let n=$("#fromCurrencyId").val(),o=$("#toCurrencyId").val(),a=$("#send_amount").val();getDirectionAmount(n,o,a),submitText()})}function submitText(){var e=$("#from_type").val();"crypto_buy"==e?$("#rp_text").text(buyText):"crypto_sell"==e?$("#rp_text").text(sellText):$("#rp_text").text(exchangeText)}$(document).on("click",".from-currency",function(){let e=$(this).attr("id"),t=$("#from-code-"+e).text(),n=$("#from-image-"+e).attr("src");$("#from-selected").text(t),$("img#seleceted-from-image").attr("src",n);let o=$("#from_type").val();$("#fromCurrencyId").val(e),getCurrenciesExceptFromCurrencyType(e,o)}),$(document).on("click",".to-currency",function(){let e=$(this).attr("id"),t=$("#to-code-"+e).text(),n=$("#to-image-"+e).attr("src");$("#to-selected").text(t),$("img#seleceted-to-image").attr("src",n),$(".bd-example-modal-sm-to").modal("hide"),$("#toCurrencyId").val(e);let o=$("#fromCurrencyId").val(),a=$("#toCurrencyId").val(),r=$("#send_amount").val();getDirectionAmount(o,a,r)}),$(document).on("keyup","#send_amount",$.debounce(1200,function(e){beforeLoad();var t=$("#fromCurrencyId").val(),n=$("#toCurrencyId").val(),o=$("#send_amount").val();getDirectionAmount(t,n,o)})),$(document).on("keyup","#get_amount",$.debounce(1200,function(e){var t=$("#fromCurrencyId").val(),n=$("#toCurrencyId").val(),o=$("#get_amount").val();beforeLoad(o),getDirectionAmount(t,n,null,o)})),$(window).on("load",function(e){beforeLoad();let t=$("#from_type").val();"crypto_swap"==t?$(".switch-box").addClass("display-hide"):$(".switch-box").removeClass("display-hide");var n=$("#fromCurrencyId").val(),o=($("#from_type").val(),$("#toCurrencyId").val()),a=$("#send_amount").val();getDirectionAmount(n,o,a),submitText()}),$(document).on("click",".switch-box",function(){beforeLoad();var e=$("#from_type").val();if("crypto_buy"==e)var t="crypto_sell";else t="crypto_buy";$("#from_type").val(t),getCurrenciesByType(t)}),$(document).on("click",".btn-toggle",function(){$(this).find(".btns").toggleClass("active"),$(this).find(".btn-swich").length>0&&$(this).find(".btns").toggleClass("btn-swich"),$(this).find(".btns").toggleClass("btn-defaults"),$(".send_amount_error").text("");var e=$(".btn-swich").attr("data-type");$("#from_type").val(e),getCurrenciesByType(e)}),$(document).on("submit","#crypto-send-form",function(){$("#crypto_buy_sell_button").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#rp_text").text(submitBtnText)}),$(document).on("keyup","#fromInput",function(){var e=$(this).val().toLowerCase();$("#from-currency-table tr").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})}),$(document).on("keyup","#toInput",function(){var e=$(this).val().toLowerCase();$("#to-currency-table tr").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})}),$(document).on("click",".crypto",function(){beforeLoad();var e=$(this).attr("data-type");$("#crypto_address-error").hide(),$(".send_amount_error").text(""),"crypto_swap"==e?($(".crypto_swap").addClass("active"),$(".crypto_buy").removeClass("active"),$(".crypto_swap_svg").addClass("active-svg"),$(".crypto_buy_svg").removeClass("active-svg"),$(".switch-box").addClass("display-hide")):($(".crypto_swap").removeClass("active"),$(".crypto_buy").addClass("active"),$(".switch-box").removeClass("display-hide"),$(".crypto_swap_svg").removeClass("active-svg"),$(".crypto_buy_svg").removeClass("active-svg")),$("#from_type").val(e),$("#crypto_address").val(""),getCurrenciesByType(e)})}if($("#crypto-exchange-verification").length){function exchangeBack(){localStorage.setItem("previousUrl",document.URL),localStorage.setItem("exchangeType",from_type),localStorage.setItem("fromCurrency",fromCurrencyId),localStorage.setItem("toCurrency",toCurrencyId),history.back()}function enableDisableButton(){hasPhoneError?$("form").find("button[type='submit']").prop("disabled",!0):$("form").find("button[type='submit']").prop("disabled",!1)}function updatePhoneInfo(){let e=new Promise(function(e,t){$("#defaultCountry").val($("#phone").intlTelInput("getSelectedCountryData").iso2),$("#carrierCode").val($("#phone").intlTelInput("getSelectedCountryData").dialCode),""!=$("#phone").val&&$("#formattedPhone").val($("#phone").intlTelInput("getNumber").replace(/-|\s/g,"")),e()});return e}function validateInternaltionalPhoneNumber(){let e=new Promise(function(e,t){let n=!1;""!==$.trim($("#phone").val())?$("#phone").intlTelInput("isValidNumber")&&isValidPhoneNumber($.trim($("#phone").val()))?(n=!0,$("#tel-error").html(""),hasPhoneError=!1,enableDisableButton()):($("#duplicate-phone-error").html(""),$("#tel-error").addClass("error").html(validPhoneText),hasPhoneError=!0,enableDisableButton()):($("#tel-error").addClass("error").html(validPhoneText),hasPhoneError=!1,enableDisableButton()),e(n)});return e}function phoneValidityCheck(){updatePhoneInfo().then(()=>{validateInternaltionalPhoneNumber()})}function sendSms(){var e=$("#phone").val(),t=$("#carrierCode").val(),n=$("#token").val();e&&t&&$.ajax({method:"GET",url:phoneVerificationUrl,dataType:"json",cache:!1,data:{_token:n,phone:e,carrierCode:t}}).done(function(e){e.data.status?($("#phone").attr("readonly",!0),$("#otp_details").show(),$("#verification_field").hide(),$("#submit_field").show()):($("#tel-error").html(""),$("#phone-config-error").text(phoneConfigText),$(".phone_spinner").addClass("displaynone"),$("#phone_verification_next_text").text(nextText))})}function validateEmail(e){var t=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,})+$/;return!!t.test(e)}$("#phone").intlTelInput({separateDialCode:!0,nationalMode:!0,preferredCountries:[defaultCountry],autoPlaceholder:"polite",placeholderNumberType:"MOBILE",utilsScript:utilsScriptFile}),$("#phone").on("countrychange",function(){phoneValidityCheck()}),$("#phone").on("blur",function(){phoneValidityCheck()}),$("#verify_phone").on("click",function(){phoneValidityCheck(),hasPhoneError||sendSms()}),$(document).on("click","#verify_email",function(){$("#verify_email").attr("disabled",!0);let e=$("#email").val(),t=$("#token").val(),n=validateEmail(e);n?($("#email-error").text(""),$(".email_spinner").removeClass("displaynone"),$("#emil_verification_button_text").text(otpText),$.ajax({method:"GET",url:emailVerificationUrl,dataType:"json",cache:!1,data:{_token:t,email:e},beforeSend:function(e){$("#verify_email").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#emil_verification_button_text").text(otpText)}}).done(function(e){e.data.status?($("#otp_details").show(),$("#verification_field").hide(),$("#code-text").text(e.data.code),$("#submit_field").show(),$("#email").prop("disabled",!0),$(".spinner").addClass("d-none"),$("#rightAngleSvgIcon").removeClass("d-none")):($("#email-error").text(emailConfigText),$("#verify_email").attr("disabled",!1),$(".spinner").addClass("d-none"),$("#rightAngleSvgIcon").removeClass("d-none"),$("#emil_verification_button_text").text(nextText))})):($("#verify_email").attr("disabled",!1),$("#email-error").text(validEmailText))}),$(document).on("click","#instant",function(){$("#phone_section").show(),$("#verification_field").show(),$("#unregistered").hide()}),$(document).on("click","#phone_verification_button",function(){var e=$("#phone").val(),t=$("#carrierCode").val(),n=$("#phone_verification_code").val(),o=$("#token").val();$.ajax({method:"GET",url:phoneVerificationSuccessUrl,dataType:"json",cache:!1,data:{_token:o,phone:e,carrierCode:t,code:n},beforeSend:function(e){$("#phone_verification_button").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#otpRightAngleSvgIcon").addClass("d-none"),$("#phone_verification_button_text").text(verifyingText)}}).done(function(e){e.status||($("#code-error").addClass("error").html(e.message),$("#phone_verification_button_text").text(verify),$(".verify_confirm").addClass("displaynone")),e.status&&(window.location.href=receivingInforUrl),500==e.status&&($("#code-error").addClass("error").html(otpRequiredText),$("#phone_verification_button_text").text(verify),$(".verify_confirm").addClass("displaynone"))})}),$(document).on("click","#email_verification_button",function(){var e=$("#email").val(),t=$("#phone_verification_code").val(),n=$("#token").val();$.ajax({method:"GET",url:emailVerificationSuccessUrl,dataType:"json",cache:!1,data:{_token:n,email:e,code:t},beforeSend:function(e){$("#email_verification_button").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#otpRightAngleSvgIcon").addClass("d-none"),$("#phone_verification_button_text").text(verifyingText)}}).done(function(e){e.status||($("#code-error").addClass("error").html(e.message),$(".spinner").addClass("d-none"),$("#otpRightAngleSvgIcon").removeClass("d-none"),$("#phone_verification_button_text").text(verify),$("#email_verification_button").attr("disabled",!1)),500==e.status&&($(".spinner").addClass("d-none"),$("#otpRightAngleSvgIcon").removeClass("d-none"),$("#phone_verification_button_text").text(verify),$("#code-error").addClass("error").html(otpRequiredText),$("#email_verification_button").attr("disabled",!1)),1==e.status&&(window.location.href=receivingInforUrl)})}),$(document).ready(function(){(new Fingerprint2).get(function(e,t){$("#browser_fingerprint").val(e)})}),$(document).on("click",".exchange-confirm-back-btn",function(e){$(".spinner").addClass("d-none"),e.preventDefault(),exchangeBack()})}if($("#crypto-receiving-info").length){function exchangeBack(){localStorage.setItem("previousUrl",document.URL),window.history.back()}$(document).on("click",".exchange-confirm-back-btn",function(e){$(".spinner").addClass("d-none"),e.preventDefault(),exchangeBack()}),$(document).on("submit","#crypto_buy_sell_from",function(){$("#crypto_buy_sell_button").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#crypto_buy_sell_button_text").text(nextText)})}if($("#crypto-transaction-gateway").length){function exchangeBack(){localStorage.setItem("previousUrl",document.URL),window.history.back()}$(document).on("submit","#crypto_buy_sell_from",function(){$("#verify_phone").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#phone_verification_button_text").text(submitText)}),$(document).ready(function(){(new Fingerprint2).get(function(e,t){$("#browser_fingerprint").val(e)})}),$(document).on("click",".exchange-confirm-back-btn",function(e){$(".spinner").addClass("d-none"),e.preventDefault(),exchangeBack()}),$(document).on("click",".payment_method",function(){var e=$(this).closest("form").find(":checkbox");e.prop("checked",$(this).is(":checked"))}),$(document).on("click",".gateway",function(){$(".gateway").removeClass("g5"),localStorage.setItem("gateway",this.id),$(this).addClass("g5"),$("#payment_method_id").val(this.id)}),$(window).on("load",function(){if($("#copyTarget").length){var e=$("#copyTarget").val().length;$("#copyTarget").width(10*e)}var t=localStorage.getItem("previousUrl"),n=localStorage.getItem("gateway"),o=SITE_URL+"/crypto-exchange/payment";t==o&&($("#"+n).on("click"),localStorage.removeItem("previousUrl"),localStorage.removeItem("gateway"))}),$(document).on("change","#file",function(){let e=$("#file").val().replace(/^.*\./,""),t=document.getElementById("file");const n=extensions;return n.includes(e)?($(".file-error").text(""),!0):(t.value="",$(".file-error").addClass("error").text(invalidFileText),$("#fileSpan").fadeIn("slow").delay(2e3).fadeOut("slow"),!1)})}if($("#crypto-bank-payment-method").length){function exchangeBack(){localStorage.setItem("previousUrl",document.URL),window.history.back()}function getBanks(){var e=$("#bank").val();e&&$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},method:"POST",url:bankDetailsUrl,dataType:"json",cache:!1,data:{bank:e}}).done(function(e){e.status?($("#bank_name").html(e.bank.bank_name),$("#account_name").html(e.bank.account_name),$("#account_number").html(e.bank.account_number),e.bank_logo?$("#bank_logo").html(`<img class="stripe-image" src="${SITE_URL}/public/uploads/files/bank_logos/${e.bank_logo}" class="w-120p" width="120" height="80"/>`):$("#bank_logo").html(`<img class="stripe-image" src="${SITE_URL}/public/images/payment_gateway/bank.jpg" class="w-120p" width="120" height="80"/>`)):($("#bank_name").html(""),$("#bank_branch_name").html(""),$("#bank_branch_city").html(""),$("#bank_branch_address").html(""),$("#swift_code").html(""),$("#account_name").html(""),$("#account_number").html(""))})}$(window).on("load",function(){getBanks()}),$(document).on("change","#bank",function(){getBanks()}),$(document).on("submit","#bank_deposit_form",function(){$("#bank_payment").attr("disabled",!0),$("#spinner").show();var e=$("#deposit-money-text").text();$("#deposit-money-text").text(confirmText),$(".deposit-bank-confirm-back-btn").attr("disabled",!0).on("click",function(e){e.preventDefault()}),$(".deposit-bank-confirm-back-link").on("click",function(e){e.preventDefault()}),setTimeout(function(){$("#bank_payment").attr("disabled",!1),$("#spinner").hide(),$("#deposit-money-text").text(e)},1e3)}),$(document).on("click",".exchange-confirm-back-btn",function(e){$(".spinner").addClass("d-none"),e.preventDefault(),exchangeBack()}),$(document).on("change","#file",function(){let e=$("#file").val().replace(/^.*\./,""),t=document.getElementById("file");const n=extensions;return n.includes(e)?($(".file-error").removeClass("error").text(""),!0):(t.value="",$(".file-error").addClass("error").text(invalidFileText),$("#fileSpan").fadeIn("slow").delay(2e3).fadeOut("slow"),!1)})}if($("#stripe-payment-gateway").length){var forms=document.querySelectorAll("form");if(0!=forms.length){function hideFormsButFirst(){for(var e=0;e<forms.length;++e)forms[e].style.display="none";forms[0].style.display="block"}function init(){hideFormsButFirst()}forms[0].addEventListener("click",function(e){e.target&&"INPUT"==e.target.nodeName&&hideFormsButFirst()}),init()}function exchangeBack(){localStorage.setItem("previousUrl",document.URL),window.history.back()}function makePayment(){var e=new Promise(function(e,t){var n=$("#cardNumber").val().trim(),o=$("#month").val().trim(),a=$("#year").val().trim(),r=$("#cvc").val().trim(),i=$("#Stripe").find('input[name="currency"]').val().trim(),c=totalAmount;$("#stripeError").html(""),n&&o&&a&&r&&$.ajax({type:"POST",url:stripePaymentUrl,data:{_token:csrfToken,cardNumber:n,month:o,year:a,cvc:r,currency:i,amount:c},dataType:"json",beforeSend:function(e){$(".standard-payment-submit-btn").attr("disabled",!0)}}).done(function(n){if(200!=n.data.status)return $("#stripeError").html(n.data.message),$(".standard-payment-submit-btn").attr("disabled",!0),t(n.data.status),!1;$(".standard-payment-submit-btn").attr("disabled",!1),e(n.data)})});return e}function confirmPayment(){makePayment().then(function(e){var t=$("#Stripe")[0],n=new FormData(t);n.append("_token",csrfToken),n.append("paymentIntendId",e.paymentIntendId),n.append("paymentMethodId",e.paymentMethodId),$.ajax({type:"POST",url:stripeUrl,data:n,processData:!1,contentType:!1,cache:!1,beforeSend:function(e){$(".standard-payment-submit-btn").attr("disabled",!0),$(".fa-spin").show(),$(".standard-payment-submit-btn").text(submitting)}}).done(function(e){if(200!=e.data.status)return $(".fa-spin").hide(),$(".standard-payment-submit-btn").attr("disabled",!0),$("#stripeError").html(e.data.message),!1;window.location.replace(SITE_URL+"/crypto-exchange/success")})})}$("#Stripe").on("submit",function(e){e.preventDefault(),confirmPayment()}),$("#month").on("change",function(){makePayment()}),$("#year, #cvc").on("keyup",$.debounce(800,function(){makePayment()})),$("#cardNumber").on("keyup",$.debounce(800,function(){makePayment()})),document.getElementById("cardNumber").addEventListener("input",function(e){var t=e.target,n=t.selectionEnd,o=t.value.length;t.value=t.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim(),t.selectionEnd=n+=" "===t.value.charAt(n-1)&&" "===t.value.charAt(o-1)&&o!==t.value.length?1:0}),$(document).on("click",".exchange-confirm-back-btn",function(e){$(".spinner").addClass("d-none"),e.preventDefault(),exchangeBack()}),$(document).on("submit","#crypto_buy_sell_from",function(){$(".standard-payment-submit-btn").attr("disabled",!0),$(".fa-spin").show(),setTimeout(function(){$(".fa-spin").hide(),$(".standard-payment-submit-btn").attr("disabled",!0)},1e3)})}if($("#paypal-payment-gateway").length){function exchangeBack(){localStorage.setItem("previousUrl",document.URL),window.history.back()}paypal.Buttons({createOrder:function(e,t){return t.order.create({purchase_units:[{amount:{value:totoalAmount}}]})},onApprove:function(e,t){return t.order.capture().then(function(e){window.location.replace(SITE_URL+"/crypto-exchange/paypal-payment/success/"+btoa(e.purchase_units[0].amount.value))})}}).render("#paypal-button-container"),$(document).on("click",".exchange-confirm-back-btn",function(e){e.preventDefault(),exchangeBack()})}$(document).on("click",".from-currency",function(){var e=$(this).find(".coin-tag").text();$(".set-coinname").text(e);var t=$(this).find(".currency-img").attr("src");$(".set-img").attr("src",t),$(".modal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}),$(document).on("click",".to-currency",function(){var e=$(this).find(".coin-tag").text();$(".set-coinnameTo").text(e);var t=$(this).find(".currency-img").attr("src");$(".set-imgTo").attr("src",t),$(".modal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}),$(document).on("keyup","#fromInput",function(){var e=$(this).val().toLowerCase();$("#from-currency-table tr").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})}),$(document).on("keyup","#toInput",function(){var e=$(this).val().toLowerCase();$("#to-currency-table tr").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})});