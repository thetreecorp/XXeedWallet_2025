"use strict";function restrictNumberToPrefdecimalOnSendInput(e){var t=$("#from_type").val(),n="crypto_buy"==t?"fiat":"crypto";restrictNumberToPrefdecimal(e,n)}function restrictNumberToPrefdecimalOnReceiveInput(e){var t=$("#from_type").val(),n="crypto_sell"==t?"fiat":"crypto";restrictNumberToPrefdecimal(e,n)}function formatNumberToPrefDecimal(e=0){let t=decimalPreferrence;return e=Math.abs(e).toFixed(t),e}if($(".main-containt").find("#crypto_exchange_user").length){function beforeLoad(e=null){$(".rate").text(""),$(".exchange_fee").text(""),$(".direction").text(""),$("#crypto_buy_sell_button").attr("disabled",!0),e?$("#send_amount").val("-"):$("#get_amount").val("-")}function getDirectionTabAmount(e,t,n=null,o=null){let a=$("#token").val();e&&t?$.ajax({method:"GET",url:directionAmountUrl,dataType:"json",cache:!1,data:{_token:a,from_currency_id:e,to_currency_id:t,send_amount:n,get_amount:o}}).done(function(e){$("#send_amount").val(e.success.send_amount),$("#get_amount").val(e.success.get_amount),$(".rate").text(e.success.exchange_rate),$(".exchange_fee").text(e.success.exchange_fee),200==e.success.status?($(".send_amount").text(""),$("#crypto_buy_sell_button").attr("disabled",!1)):($(".send_amount").text(e.success.message),$("#crypto_buy_sell_button").attr("disabled",!0)),$("input").prop("disabled",!1)}):($("#crypto_buy_sell_button").attr("disabled",!0),$(".direction").addClass("error").text(directionNotAvaillable),$("#get_amount").val(0))}function getCurrenciesExceptFromCurrencyType(e,t){let n=$("#token").val();e&&t&&$.ajax({method:"GET",url:directionListUrl,dataType:"json",cache:!1,data:{_token:n,type:t,from_currency_id:e}}).done(function(e){let t="";$.each(e.directionCurrencies,function(e,n){t+=`<option value="${n.id}" >${n.code}</option>`}),$("#to_currency").html(t);let n=$("#from_currency").val(),o=$("#to_currency").val(),a=$("#send_amount").val();n&&o&&a&&getDirectionAmount(n,o,a)})}function getDirectionAmount(e,t,n=null,o=null){let a=$("#token").val();e&&t&&$.ajax({method:"GET",url:directionAmountUrl,dataType:"json",cache:!1,data:{_token:a,from_currency_id:e,to_currency_id:t,send_amount:n,get_amount:o}}).done(function(e){$("#send_amount").val(e.success.send_amount),$("#get_amount").val(e.success.get_amount),$(".rate").text(e.success.exchange_rate),$(".exchange_fee").text(e.success.exchange_fee),$(".flash-container").hide(),200==e.success.status?($(".send_amount").text(""),$("#crypto_buy_sell_button").attr("disabled",!1)):($(".send_amount").text(e.success.message),$("#crypto_buy_sell_button").attr("disabled",!0)),$("input").prop("disabled",!1)})}function getCurrenciesByType(e){let t=$("#token").val();e&&$.ajax({method:"GET",url:directionTypeUrl,dataType:"json",cache:!1,data:{_token:t,direction_type:e}}).done(function(e){let t="";$.each(e.fromCurrencies,function(e,n){t+=`<option value="${n.id}" >${n.code}</option>`}),$("#from_currency").html(t),$("#send_amount").val(e.min_amount);let n="";$.each(e.toCurrencies,function(e,t){n+=`<option value="${t.id}" >${t.code}</option>`}),$("#to_currency").html(n);let o="401"==e.status?directionNotAvaillable:"";$(".direction").addClass("error").text(o),localStorage.getItem("from_currency")&&localStorage.getItem("to_currency")&&($("#from_currency").val(localStorage.getItem("from_currency")),$("#to_currency").val(localStorage.getItem("to_currency")),localStorage.removeItem("from_currency"),localStorage.removeItem("to_currency"));let a=$("#from_currency").val(),r=$("#to_currency").val(),c=$("#send_amount").val();a&&r&&c&&getDirectionTabAmount(a,r,c)})}$(window).on("load",function(){beforeLoad();let e=localStorage.getItem("previousUrl"),t=cryptoBuySellConfirmUrl;if(t==e){var n=localStorage.getItem("exchangeType"),o=localStorage.getItem("defaultAmnt");$("#send_amount").val(o),$("."+n).trigger("click"),localStorage.removeItem("previousUrl")}let a=$("#from_currency").val(),r=$("#to_currency").val();o=$("#send_amount").val();getDirectionTabAmount(a,r,o)}),$(document).on("change","#from_currency",function(){beforeLoad();let e=$("#from_currency").val(),t=$("#from_type").val();e&&t&&getCurrenciesExceptFromCurrencyType(e,t)}),$(document).on("change","#to_currency",function(){beforeLoad();let e=$("#from_currency").val(),t=$("#to_currency").val(),n=$("#send_amount").val();e&&t&&n&&getDirectionAmount(e,t,n)}),$(document).on("keyup","#send_amount",$.debounce(700,function(){beforeLoad();let e=$("#from_currency").val(),t=$("#to_currency").val(),n=$("#send_amount").val();e&&t&&n&&getDirectionAmount(e,t,n)})),$(document).on("keyup","#get_amount",$.debounce(700,function(){let e=$("#from_currency").val(),t=$("#to_currency").val(),n=$("#get_amount").val();beforeLoad(n),e&&t&&n&&getDirectionAmount(e,t,null,n)})),$(document).on("click",".crypto",function(){beforeLoad();let e=$(this).attr("data-type");$(".crypto").removeClass("tabactive"),$(this).addClass("tabactive"),$(".send_amount").text(""),$("#from_type").val(e),getCurrenciesByType(e)}),$(document).on("submit","#crypto-send-form",function(){$("#crypto_buy_sell_button").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#rp_text").text(submitText)})}if($(".main-containt").find("#crypto_exchange_details").length){function exchangeBack(){localStorage.setItem("previousUrl",document.URL),localStorage.setItem("exchangeType",exchangeTypeValue),localStorage.setItem("from_currency",fromCurrencyValue),localStorage.setItem("to_currency",toCurrencyValue),localStorage.setItem("defaultAmnt",defaultAmnt),history.back()}function paymentOption(){"others"==$("#pay_with").val()?($("#payment_details").show(),$(".payment_details").attr("disabled",!1)):($("#payment_details").hide(),$(".payment_details").attr("disabled",!0))}function receiveOption(){"address"==$("#receive_with").val()?($("#crypto_address_section").css("display","block"),$(".crypto_address").attr("disabled",!1)):($("#crypto_address_section").css("display","none"),$(".crypto_address").attr("disabled",!0))}function show_copy(){$("#copy-parent-div").removeClass("show-copied")}$(window).on("load",function(){paymentOption()}),$(document).on("change","#pay_with",function(){paymentOption()}),$(document).on("change","#file",function(){var e=$("#file").val().replace(/^.*\./,"");let t=document.getElementById("file");const n=extensions;return n.includes(e)?($(".file-error").removeClass("error").text(""),!0):(t.value="",$(".file-error").addClass("error").text(invalidFileText),$("#fileSpan").fadeIn("slow").delay(2e3).fadeOut("slow"),!1)}),$(document).on("change","#receive_with",function(){receiveOption()}),$(document).on("submit","#crypto_buy_sell_from",function(){$("#exchange-confirm-submit-btn").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#cryptoExchangeConfirmBtnText").text(confirmText),localStorage.removeItem("previousUrl"),localStorage.removeItem("from_currency"),localStorage.removeItem("to_currency"),setTimeout(function(){$(".spinner").addClass("d-none"),$("#exchange-confirm-submit-btn").attr("disabled",!1),$("#cryptoExchangeConfirmBtnText").text(pretext),$("#rightAngleSvgIcon").removeClass("d-none")},2e3)}),$(document).on("click",".exchange-confirm-back-btn",function(e){e.preventDefault(),exchangeBack()}),$("#copyButton, #merchantAddress").on("click",function(){let e=$("#merchantAddress").val(),t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),$("#copy-parent-div").addClass("show-copied"),setInterval(show_copy,5e3)})}$(".main-containt").find("#cryptoExchangeList").length&&($(function(){var e,t;$("#daterange-btn").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment().subtract(29,"days"),endDate:moment()},function(n,o){e=moment(n,"MMMM D, YYYY").format("DD-MM-YYYY"),$("#startfrom").val(e),t=moment(o,"MMMM D, YYYY").format("DD-MM-YYYY"),$("#endto").val(t),$("#daterange-btn p").html(e+" - "+t)}),""==startDate?$("#daterange-btn p").html(dateRangePickerText):$("#daterange-btn p").html(startDate+" - "+endDate)}),$(document).ready(function(){let e=$("#status").val(),t=$("#currency").val(),n=$("#type").val();""==startDate&&"all"==e&&"all"==t&&"all"==n||$(".filter-panel").css("display","block"),$(".fil-btn").on("click",function(){$(this).find("img").toggle(),$(".filter-panel").slideToggle(300)})}));