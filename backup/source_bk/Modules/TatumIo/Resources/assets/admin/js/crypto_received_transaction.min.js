"use strict";function downloadFile(t){window.location=ADMIN_URL+"/crypto-received-transactions/"+t+"?startfrom="+$("#startfrom").val()+"&endto="+$("#endto").val()+"&status="+$("#status").val()+"&currency="+$("#currency").val()+"&user_id="+$("#user_id").val()}var sDate,eDate;$(window).on("load",function(t){$(".select2").select2({}),$("#daterange-btn").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment().subtract(29,"days"),endDate:moment()},function(t,e){var n=sessionDateFormat,s=n.toUpperCase();sDate=moment(t,"MMMM D, YYYY").format(s),$("#startfrom").val(sDate),eDate=moment(e,"MMMM D, YYYY").format(s),$("#endto").val(eDate),$("#daterange-btn span").html("&nbsp;"+sDate+" - "+eDate+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")});var e=startFromDate,n=startToDate;""==e?$("#daterange-btn span").html('<i class="fa fa-calendar"></i> &nbsp;&nbsp; Pick a date range &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'):$("#daterange-btn span").html(e+" - "+n+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")}),$("#daterange-btn").on("mouseover",function(){$(this).css("background-color","white"),$(this).css("border-color","grey !important")}),$(document).on("keyup keypress","#user_input",function(t){if("keyup"==t.type||"keypress"==t.type){var e=$("form").find("input[type='text']").val();0===e.length&&($("#user_id").val(""),$("#error-user").html(""),$("form").find("button[type='submit']").prop("disabled",!1))}}),$("#user_input").autocomplete({source:function(t,e){t.term.length>0?$.ajax({url:cryptoReceivedUserSearch,dataType:"json",type:"get",data:{search:t.term},success:function(t){$("form").find("button[type='submit']").prop("disabled",!0),"success"==t.status?e($.map(t.data,function(t){return{id:t.user_id,first_name:t.first_name,last_name:t.last_name,value:t.first_name+" "+t.last_name}})):"fail"==t.status&&$("#error-user").addClass("text-danger").html("User Does Not Exist!")}}):$("#user_id").val("")},select:function(t,e){var n=e.item;$("#error-user").html(""),$("#user_id").val(n.id),$("form").find("button[type='submit']").prop("disabled",!1)},minLength:0,autoFocus:!0}),$(document).on("click","#csv",function(t){t.preventDefault(),downloadFile("csv")}),$(document).on("click","#pdf",function(t){t.preventDefault(),downloadFile("pdf")});