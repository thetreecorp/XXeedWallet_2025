"use strict";function restrictNumberToPrefdecimalOnInput(e){let type="crypto",directionType;"crypto_buy"==$("#direction_type").val()&&(type="fiat"),restrictNumberToPrefdecimal(e,type)}function exchangeRateControll(){"api"==$("#exchange_from").val()?($("#exchange_rate_div").hide(),$("#exchange_rate").prop("disabled",!0)):($("#exchange_rate_div").show(),$("#exchange_rate").prop("disabled",!1))}function determineDecimalPoint(){let directionType=$("#direction_type").val();"crypto_swap"==directionType?$(".min_amount, .max_amount, .fees_fixed, .fees_percentage, .exchange_rate, .total_fees").attr("placeholder",CRYPTODP):"crypto_buy"==directionType?($(".min_amount, .max_amount, .fees_fixed, .fees_percentage, .total_fees").attr("placeholder",FIATDP),$(".exchange_rate").attr("placeholder",CRYPTODP)):($(".min_amount, .max_amount, .fees_fixed, .fees_percentage, .total_fees").attr("placeholder",CRYPTODP),$(".exchange_rate").attr("placeholder",FIATDP))}function restrictNumberToPrefdecimalOnInputExchange(e){let type="crypto",directionType;"crypto_sell"==$("#direction_type").val()&&(type="fiat"),restrictNumberToPrefdecimal(e,type)}function formatNumberToPrefDecimal(num=0){let decimalFormat=decimalPreferrence;return num=Math.abs(num).toFixed(decimalFormat)}if($(".content").find("#crypto_direction_create").length){function getPaymentMethod(){let token=$("#token").val(),directionType=$("#direction_type").val(),fromCurrencyId=$("#from_currency_id option:selected").val();"crypto_buy"==directionType?($("#payment_method_direction").show(),$.ajax({method:"GET",url:gatewayListUrl,dataType:"json",cache:!1,data:{_token:token,from_currency_id:fromCurrencyId}}).done((function(response){let paymentOptions="";200==response.status&&$.map(response.paymentMethod,(function(value,index){paymentOptions+=`<option value="${value.id}">${value.name}</option>`})),$("#payment_method").html(paymentOptions)}))):$("#payment_method_direction").hide()}function getCurrenciesExceptFromCurrencyType(){let token=$("#token").val(),directionType=$("#direction_type").val(),fromCurrencyId=$("#from_currency_id option:selected").val();$.ajax({method:"GET",url:getCurrencyUrl,dataType:"json",cache:!1,data:{_token:token,direction_type:directionType,from_currency_id:fromCurrencyId}}).done((function(response){let fromOptions="";fromOptions+=`<option value="">${selectOneText}</option>`,$.each(response.fromCurrencies,(function(key,value){fromOptions+=`<option value="${value.id}" ${value.id==fromCurrencyId?"selected":""} data-type="${value.type}" >${value.code}</option>`})),$("#from_currency_id").html(fromOptions);let toOptions="";toOptions+=`<option value="">${selectOneText}</option>`,$.each(response.toCurrencies,(function(key,value){toOptions+=`<option value="${value.id}" data-type="${value.type}" >${value.code}</option>`})),$("#to_currency_id").html(toOptions)}))}$((function(){$(".select2").select2({}),$("#payment_method").select2({placeholder:selectGatewayText})})),$(window).on("load",(function(){determineDecimalPoint(),getCurrenciesExceptFromCurrencyType(),getPaymentMethod(),exchangeRateControll()})),$(document).on("change","#direction_type",(function(){determineDecimalPoint(),getCurrenciesExceptFromCurrencyType(),getPaymentMethod(),$("#fees_percentage").val(""),$("#fees_fixed").val(""),$("#min_amount").val(""),$("#max_amount").val(""),$("#exchange_rate").val("")})),$(document).on("change","#from_currency_id",(function(){getCurrenciesExceptFromCurrencyType(),getPaymentMethod()})),$(document).on("change","#exchange_from",(function(){exchangeRateControll();var exchangeFrom=$(this).find("option:selected").val();"api"==exchangeFrom?"Disabled"!=cryptoCompareEnabledApi&&""!=cryptoCompareApiKey?$("#direction_create").attr("disabled",!1):($("#direction_create").attr("disabled",!0),$(".rate-setup-text").removeClass("d-none")):"local"==exchangeFrom&&($(".rate-setup-text").addClass("d-none"),$("#direction_create").attr("disabled",!1))})),$(document).on("input","#min_amount, #max_amount",(function(){let minAmount=parseFloat($("#min_amount").val()),maxAamount=parseFloat($("#max_amount").val());minAmount&&maxAamount&&minAmount>maxAamount?($("#max_error").addClass("error").text(maximumAmounText),$("#direction_create").attr("disabled",!0)):($("#max_error").text(""),$("#direction_create").attr("disabled",!1))})),$(document).on("submit","#exchange_direction_form",(function(){exchangeRateControll(),$("#direction_create").attr("disabled",!0),$(".fa-spin").removeClass("d-none"),$("#direction_create_text").text(createText),$("#users_cancel").attr("disabled",!0)}))}if($(".content").find("#crypto_direction_edit").length){function getCurrenciesExceptFromCurrencyType(fromCurrency){let token=$("#token").val(),currencyId;fromCurrency&&$.ajax({method:"GET",url:getCurrencyUrl,dataType:"json",cache:!1,data:{_token:token,to_currency_id:toCurrencyId,type:"edit",direction_type:directionType}}).done((function(response){var options="";options+=`<option value="${toCurrencyId}" >${toCurrencyCode}</option>`,$.each(response.toCurrencies,(function(key,value){value.id!=toCurrencyId&&(options+=`<option value="${value.id}" >${value.code}</option>`)})),$("#to_currency_id").html(options)}))}$((function(){$(".select2").select2({})})),$(document).ready((function(){var selectedGateway,gateway=gateways.split(",").map(Number);$("#payment_method").select2({placeholder:selectGatewayText,allowClear:!0}).select2().val(gateway).trigger("change")})),$(document).on("submit","#exchange_direction_form",(function(){exchangeRateControll(),$("#direction_create").attr("disabled",!0),$(".fa-spin").removeClass("d-none"),$("#direction_create_text").text(updateText),$("#users_cancel").attr("disabled",!0)})),$(window).on("load",(function(){determineDecimalPoint();var fromCurrency=$("#from_currency_id").val();getCurrenciesExceptFromCurrencyType(fromCurrency),exchangeRateControll()})),$(document).on("change","#exchange_from",(function(e){exchangeRateControll();var exchangeFrom=$(this).find("option:selected").val();"api"==exchangeFrom?"Disabled"!=cryptoCompareEnabledApi&&""!=cryptoCompareApiKey?$("#direction_create").attr("disabled",!1):($("#direction_create").attr("disabled",!0),$(".rate-setup-text").removeClass("d-none")):"local"==exchangeFrom&&($(".rate-setup-text").addClass("d-none"),$("#direction_create").attr("disabled",!1))})),$(document).on("change","#from_currency_id",(function(e){let fromCurrency=$("#from_currency_id").val();getCurrenciesExceptFromCurrencyType(fromCurrency)})),$(document).on("input","#min_amount, #max_amount",(function(){let minAmount=parseFloat($("#min_amount").val()),maxAmount=parseFloat($("#max_amount").val());minAmount&&maxAmount&&minAmount>maxAmount?($("#max_error").addClass("error").text(maximumAmounText),$("#direction_create").attr("disabled",!0)):($("#max_error").text(""),$("#direction_create").attr("disabled",!1))}))}