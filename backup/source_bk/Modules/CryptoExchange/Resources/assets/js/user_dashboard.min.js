"use strict";function restrictNumberToPrefdecimalOnSendInput(e){var t;restrictNumberToPrefdecimal(e,"crypto_buy"==$("#from_type").val()?"fiat":"crypto")}function restrictNumberToPrefdecimalOnReceiveInput(e){var t;restrictNumberToPrefdecimal(e,"crypto_sell"==$("#from_type").val()?"fiat":"crypto")}function formatNumberToPrefDecimal(e=0){let t=decimalPreferrence;return e=Math.abs(e).toFixed(t)}if($(".main-containt").find("#crypto_exchange_user").length){function e(e=null){$(".rate").text(""),$(".exchange_fee").text(""),$(".direction").text(""),$("#crypto_buy_sell_button").attr("disabled",!0),e?$("#send_amount").val("-"):$("#get_amount").val("-")}function t(e,t,n=null,a=null){let r=$("#token").val();e&&t?$.ajax({method:"GET",url:directionAmountUrl,dataType:"json",cache:!1,data:{_token:r,from_currency_id:e,to_currency_id:t,send_amount:n,get_amount:a}}).done(function(e){$("#send_amount").val(e.success.send_amount),$("#get_amount").val(e.success.get_amount),$(".rate").text(e.success.exchange_rate),$(".exchange_fee").text(e.success.exchange_fee),200==e.success.status?($(".send_amount").text(""),$("#crypto_buy_sell_button").attr("disabled",!1)):($(".send_amount").text(e.success.message),$("#crypto_buy_sell_button").attr("disabled",!0)),$("input").prop("disabled",!1)}):($("#crypto_buy_sell_button").attr("disabled",!0),$(".direction").addClass("error").text(directionNotAvaillable),$("#get_amount").val(0))}function n(e,t){let n=$("#token").val();e&&t&&$.ajax({method:"GET",url:directionListUrl,dataType:"json",cache:!1,data:{_token:n,type:t,from_currency_id:e}}).done(function(e){let t="";$.each(e.directionCurrencies,function(e,n){t+=`<option value="${n.id}" >${n.code}</option>`}),$("#to_currency").html(t);let n=$("#from_currency").val(),r=$("#to_currency").val(),o=$("#send_amount").val();n&&r&&o&&a(n,r,o)})}function a(e,t,n=null,a=null){let r=$("#token").val();e&&t&&$.ajax({method:"GET",url:directionAmountUrl,dataType:"json",cache:!1,data:{_token:r,from_currency_id:e,to_currency_id:t,send_amount:n,get_amount:a}}).done(function(e){$("#send_amount").val(e.success.send_amount),$("#get_amount").val(e.success.get_amount),$(".rate").text(e.success.exchange_rate),$(".exchange_fee").text(e.success.exchange_fee),$(".flash-container").hide(),200==e.success.status?($(".send_amount").text(""),$("#crypto_buy_sell_button").attr("disabled",!1)):($(".send_amount").text(e.success.message),$("#crypto_buy_sell_button").attr("disabled",!0)),$("input").prop("disabled",!1)})}function r(e){let n=$("#token").val();e&&$.ajax({method:"GET",url:directionTypeUrl,dataType:"json",cache:!1,data:{_token:n,direction_type:e}}).done(function(e){let n="";$.each(e.fromCurrencies,function(e,t){n+=`<option value="${t.from_currency.id}" >${t.from_currency.code}</option>`}),$("#from_currency").html(n),$("#send_amount").val(e.minAmount);let a="";$.each(e.toCurrencies,function(e,t){a+=`<option value="${t.id}" >${t.code}</option>`}),$("#to_currency").html(a);let r="401"==e.status?directionNotAvaillable:"";$(".direction").addClass("error").text(r),localStorage.getItem("from_currency")&&localStorage.getItem("to_currency")&&($("#from_currency").val(localStorage.getItem("from_currency")),$("#to_currency").val(localStorage.getItem("to_currency")),localStorage.removeItem("from_currency"),localStorage.removeItem("to_currency"));let o=$("#from_currency").val(),c=$("#to_currency").val(),s=$("#send_amount").val();o&&c&&s&&t(o,c,s)})}$(window).on("load",function(){e();let n;if(cryptoBuySellConfirmUrl==localStorage.getItem("previousUrl")){var a=localStorage.getItem("exchangeType"),r=localStorage.getItem("defaultAmnt");$("#send_amount").val(r),$("."+a).trigger("click"),localStorage.removeItem("previousUrl")}let o=$("#from_currency").val(),c=$("#to_currency").val();var r=$("#send_amount").val();t(o,c,r)}),$(document).on("change","#from_currency",function(){e();let t=$("#from_currency").val(),a=$("#from_type").val();t&&a&&n(t,a)}),$(document).on("change","#to_currency",function(){e();let t=$("#from_currency").val(),n=$("#to_currency").val(),r=$("#send_amount").val();t&&n&&r&&a(t,n,r)}),$(document).on("keyup","#send_amount",$.debounce(700,function(){e();let t=$("#from_currency").val(),n=$("#to_currency").val(),r=$("#send_amount").val();t&&n&&r&&a(t,n,r)})),$(document).on("keyup","#get_amount",$.debounce(700,function(){let t=$("#from_currency").val(),n=$("#to_currency").val(),r=$("#get_amount").val();e(r),t&&n&&r&&a(t,n,null,r)})),$(document).on("click",".crypto",function(){e();let t=$(this).attr("data-type");$(".crypto").removeClass("tabactive"),$(this).addClass("tabactive"),$(".send_amount").text(""),$("#from_type").val(t),r(t)}),$(document).on("submit","#crypto-send-form",function(){$("#crypto_buy_sell_button").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#rightAngleSvgIcon").addClass("d-none"),$("#rp_text").text(submitText)})}if($(".main-containt").find("#crypto_exchange_details").length){function o(){localStorage.setItem("previousUrl",document.URL),localStorage.setItem("exchangeType",exchangeTypeValue),localStorage.setItem("from_currency",fromCurrencyValue),localStorage.setItem("to_currency",toCurrencyValue),localStorage.setItem("defaultAmnt",defaultAmnt),history.back()}function c(){"others"==$("#pay_with").val()?($("#payment_details").show(),$(".payment_details").attr("disabled",!1)):($("#payment_details").hide(),$(".payment_details").attr("disabled",!0)),l()}function s(){"address"==$("#receive_with").val()?($("#crypto_address_section").css("display","block"),$(".crypto_address").attr("disabled",!1)):($("#crypto_address_section").css("display","none"),$(".crypto_address").attr("disabled",!0))}function l(){let e=$("#token").val();"others"==$("#pay_with").val()?($(".wallet-error").removeClass("error").text(""),$("#exchange-confirm-submit-btn").attr("disabled",!1)):$.ajax({method:"GET",url:walletCheckUrl,dataType:"json",cache:!1,data:{_token:e}}).done(function(e){200==e.success.status?($(".wallet-error").removeClass("text-danger").text(""),$("#exchange-confirm-submit-btn").attr("disabled",!1)):($(".wallet-error").addClass("text-danger").text(e.success.message),$("#exchange-confirm-submit-btn").attr("disabled",!0))})}function u(){$("#copy-parent-div").removeClass("show-copied")}$(window).on("load",function(){c()}),$(document).on("change","#pay_with",function(){c()}),$(document).on("change","#file",function(){var e=$("#file").val().replace(/^.*\./,"");let t=document.getElementById("file"),n=extensions;return n.includes(e)?($(".file-error").removeClass("error").text(""),!0):(t.value="",$(".file-error").addClass("error").text(invalidFileText),$("#fileSpan").fadeIn("slow").delay(2e3).fadeOut("slow"),!1)}),$(document).on("change","#receive_with",function(){s()}),$(document).on("submit","#crypto_buy_sell_from",function(){$("#exchange-confirm-submit-btn").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#cryptoConfirmBackBtn").removeAttr("href"),$("#rightAngleSvgIcon").addClass("d-none"),$("#cryptoExchangeConfirmBtnText").text(confirmText),localStorage.removeItem("previousUrl"),localStorage.removeItem("from_currency"),localStorage.removeItem("to_currency")}),$(document).on("click",".exchange-confirm-back-btn",function(e){e.preventDefault(),o()}),$("#copyButton, #merchantAddress").on("click",function(){let e=$("#merchantAddress").val(),t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),$("#copy-parent-div").addClass("show-copied"),setInterval(u,5e3)})}$(".main-containt").find("#cryptoExchangeList").length&&($(function(){var e,t;$("#daterange-btn").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment().subtract(29,"days"),endDate:moment()},function(n,a){e=moment(n,"MMMM D, YYYY").format("DD-MM-YYYY"),$("#startfrom").val(e),t=moment(a,"MMMM D, YYYY").format("DD-MM-YYYY"),$("#endto").val(t),$("#daterange-btn p").html(e+" - "+t)}),""==startDate?$("#daterange-btn p").html(dateRangePickerText):$("#daterange-btn p").html(startDate+" - "+endDate)}),$(document).ready(function(){let e=$("#status").val(),t=$("#currency").val(),n=$("#type").val();(""!=startDate||"all"!=e||"all"!=t||"all"!=n)&&$(".filter-panel").css("display","block"),$(".fil-btn").on("click",function(){$(this).find("img").toggle(),$(".filter-panel").slideToggle(300)})}));
